<!doctype html>

<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Arriab Store — Stock (Public)</title>
</head>
<body>
  <h1>Arriab Store — Stock</h1>
  <p>Halaman publik — hanya lihat stock. Untuk edit, buka <code>edit.html</code> (butuh password).</p>
  <div id="stockList"></div>  <script>
    const DEFAULT_STOCK = [
      {id:'A', name:'Redfinger Android 12 - 7 Day', qty: 7},
      {id:'B', name:'Redfinger Android 12 - 30 Day', qty: 3}
    ];

    function loadStock(){
      try{ const raw = localStorage.getItem('arriab_stock'); if(!raw) return DEFAULT_STOCK; return JSON.parse(raw);}catch(e){return DEFAULT_STOCK;}
    }

    function renderStock(){
      const list = loadStock();
      const container = document.getElementById('stockList');
      container.innerHTML = '';
      list.forEach(it=>{
        const el = document.createElement('div');
        el.textContent = `${it.name} — Qty: ${it.qty}`;
        container.appendChild(el);
      });
    }

    renderStock();
    window.addEventListener('storage',(e)=>{ if(e.key==='arriab_stock') renderStock(); });
  </script></body>
